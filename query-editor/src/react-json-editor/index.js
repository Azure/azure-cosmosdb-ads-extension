"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var React=require("react");function _interopDefaultLegacy(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var React__default=_interopDefaultLegacy(React);function _arrayWithHoles(e){if(Array.isArray(e))return e}function _iterableToArrayLimit(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var l,n,o=[],r=!0,s=!1;try{for(a=a.call(e);!(r=(l=a.next()).done)&&(o.push(l.value),!t||o.length!==t);r=!0);}catch(e){s=!0,n=e}finally{try{r||null==a.return||a.return()}finally{if(s)throw n}}return o}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,l=new Array(t);a<t;a++)l[a]=e[a];return l}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(a="Object"===a&&e.constructor?e.constructor.name:a)||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?_arrayLikeToArray(e,t):void 0}}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function styleInject(e,t){var a,l=(t=void 0===t?{}:t).insertAt;e&&"undefined"!=typeof document&&(a=document.head||document.getElementsByTagName("head")[0],(t=document.createElement("style")).type="text/css","top"===l&&a.firstChild?a.insertBefore(t,a.firstChild):a.appendChild(t),t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e)))}var css_248z='button{\n    cursor: pointer;\n}\n.styles-module_container__1oeWd{\n    height: 100%;\n    width: 100%;\n}\n\n.styles-module_editorContainer__3rgkN{\n    height: 100%;\n    width: 100%;\n}\n\n.styles-module_overlay__3xf0A{\n    display: inline-block;\n    position: fixed;\n    z-index: 2;\n    background-color: rgba(255,255,255,.2);\n}\n\n.styles-module_JsonViewOutput__dQNvr{\n    height: 100%;\n}\n\n.styles-module_insertBanner__3grHO{\n    padding: 5px 10px;\n    line-height: 30px;\n    font-size: 20px;\n}\n\n.styles-module_bannerSpan__iZqd_{\n    padding: 2px 5px;\n    display: inline-block;\n}\n\n.styles-module_insertBanner__3grHO:hover{\n    cursor: pointer;\n}\n\n.styles-module_jsonListOutput__14Vp_{\n    overflow-y: auto;\n    height: calc(100% - 44px);\n}\n\n.styles-module_nodeEmpty__okGWw{\n    display: flex;\n    height: 100%;\n    justify-content: center;\n    align-items: center;\n}\n.styles-module_indent__3K2Y7{\n    padding-left: 0.5em;\n}\n\n.styles-module_dataContainer__3Hb85{\n    width: 100%;\n}\n\n.styles-module_dataNode__3NW26{\n    position: relative;\n    min-height: 24px;\n}\n\n.styles-module_clickNode__D3mL4{\n    display: flex;\n    padding: 0 0.5em;\n    cursor : pointer;\n}\n\n.styles-module_needLeaf__3Pd0A{\n    display: flex;\n    padding-left: 0.5em;\n}\n\n.styles-module_dataNode__3NW26 .styles-module_needLeaf__3Pd0A:hover{\n    cursor: pointer;\n}\n\n.styles-module_rightContainer__2_EGZ{\n    display: flex;\n    position: absolute;\n    right: 0;\n    padding: 0 1em;\n    margin: 0 auto;\n}\n\n.styles-module_rightButton__2WBAU{\n    padding-left: 5px;\n    display: flex;\n    align-items: center;\n}\n\n.styles-module_emptyObject__1ivRB{\n    display: flex;\n    padding: 0 0.5em;\n}\n\n.styles-module_keyData__xvrky{\n    display: flex;\n    white-space: pre-wrap;\n    word-break: break-word;\n    max-width: 50%;\n}\n\n.styles-module_keySpace__V048A{\n    padding: 0 3px;\n}\n.styles-module_arrayType__2cPVO + span{\n\n    background-color: #eeeeef;\n    border-radius: 2px;\n    padding: 0 5px;\n    text-align: center;\n\n}\n\n.styles-module_valueData__2LUzt{\n    display: inline-block;\n    margin: auto 0;\n    word-break: break-word;\n}\n\n.styles-module_arrow__2qoOo{\n    display: flex;\n    align-items: center;\n}\n.styles-module_arrowDown__1CJlj{\n    margin-right: 8px;\n    border: solid #787878;\n    border-width: 0 3px 3px 0;\n    display: inline-block;\n    padding: 3px;\n    transform: rotate(45deg);\n    -webkit-transform: rotate(45deg);\n    cursor: pointer;\n}\n\n.styles-module_arrowRight__20txf{\n    margin-right: 8px;\n    border: solid #787878;\n    border-width: 0 3px 3px 0;\n    display: inline-block;\n    padding: 3px;\n    transform: rotate(-45deg);\n    -webkit-transform: rotate(-45deg);\n    cursor: pointer;\n}\n\n.styles-module_modalContainer__3p6-8 {\n    margin-left: 1.5em;\n    box-sizing: border-box;\n    border: 1px solid lightgray;\n    border-radius: 6px;\n    background-color: white;\n    padding: 15px 5px 10px 15px;\n    position : absolute;\n    z-index: 3;\n    min-width: 425px;\n\n}\n\n.styles-module_modalContentContainer__1l9jX {\n    display: flex;\n    margin-bottom: 0.5em;\n    min-width: 250px;\n}\n\n\n.styles-module_modalLabel__2kqOh{\n    display: block;\n    font-size: 14px;\n    min-height: 20px;\n    line-height: 20px;\n    color: #797980;\n}\n\n.styles-module_modalSelectLabel__2L-as{\n    display: flex;\n    justify-content: center;\n    font-size: 16px;\n    min-height: 20px;\n    line-height: 20px;\n    margin-top: 10px;\n    color: #797980;\n}\n\n.styles-module_modalSelectBtnContainer__GFYsQ{\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    padding: 20px 20px 10px 10px ;\n}\n\n.styles-module_modalSelectBtn__1GzsM{\n    margin: 0 10px;\n    padding: 3px 30px;\n}\n.styles-module_modalInput__2Ql0f{\n    min-height: 30px;\n    font-size: 16px;\n    max-width: 140px;\n}\n\n.styles-module_primitiveInput__3DL4B{\n    min-height: 30px;\n    font-size: 16px;\n    width: 385px;\n}\n\nselect.styles-module_modalInput__2Ql0f{\n    height: 30px;\n}\n.styles-module_modalBooleanInput__3ON3x{\n    min-height: 30px;\n    font-size: 16px;\n    min-width: 140px;\n}\n\n.styles-module_modalNoLabel__39M1c{\n    display: flex;\n    padding: 20px 5px 0;\n    min-height: 20px;\n    font-weight: bolder;\n    align-items: center;\n}\n\n.styles-module_modalBtnContainer__1t2Ba{\n    align-items: center;\n    justify-content: space-between;\n    display: flex;\n    padding: 20px 20px 10px 10px ;\n}\n\n.styles-module_modalModifyBtnContainer__OMIy7{\n    display: block;\n\n}\n.styles-module_modalButton__QEgLU{\n    margin-left: 5px;\n}\n\n.styles-module_delButton__2GkYR{\n    margin-left: 5px;\n    cursor: pointer;\n}\n\n.styles-module_addButton__3yeXA{\n    display: flex;\n    align-items: center;\n    cursor: pointer;\n}\n\n.styles-module_removeIcon__YQbZ7 {\n    color: #787878;\n    box-sizing: border-box;\n    position: relative;\n    display: block;\n    transform: scale(1);\n    width: 22px;\n    height: 22px;\n    border: 2px solid;\n    border-radius: 22px\n}\n\n.styles-module_removeIcon__YQbZ7::before {\n    content: "";\n    display: block;\n    box-sizing: border-box;\n    position: absolute;\n    width: 10px;\n    height: 2px;\n    background: currentColor;\n    border-radius: 5px;\n    top: 8px;\n    left: 4px\n}\n\n.styles-module_addIcon__1Hx75 {\n    color: #787878;\n    box-sizing: border-box;\n    position: relative;\n    display: block;\n    width: 22px;\n    height: 22px;\n    border: 2px solid;\n    transform: scale(1);\n    border-radius: 22px\n}\n\n.styles-module_addIcon__1Hx75::after,\n.styles-module_addIcon__1Hx75::before {\n    content: "";\n    display: block;\n    box-sizing: border-box;\n    position: absolute;\n    width: 10px;\n    height: 2px;\n    background: currentColor;\n    border-radius: 5px;\n    top: 8px;\n    left: 4px\n}\n\n.styles-module_addIcon__1Hx75::after {\n    width: 2px;\n    height: 10px;\n    top: 4px;\n    left: 8px\n}\n\n.styles-module_arrayIndex__PSRJg{\n    margin: 20px 5px 0;\n    font-size: 16px;\n}\n.styles-module_arrayIndexInput__2avy9{\n    display: flex;\n    min-height: 30px;\n    border-radius: 2px;\n    padding: 0 6px;\n    font-size: 16px;\n    background-color: #eeeeef;\n    text-align: center;\n    align-items: center;\n}\n\n.styles-module_addLine__1qO0a{\n    display: flex;\n    margin-left: 10px;\n}\n\n.styles-module_nodeLine__30DII{\n    width: 2px;\n    margin: -0.5em 0 18px;\n    border-right-style:solid ;\n    border-width: 0.15em;\n    border-color: #f0f0f0;\n}\n\n.styles-module_nodePlusLineContainer__3cpeO{\n    display: flex;\n    flex-direction: row;\n}\n.styles-module_nodePlusLine__r_i9a{\n    border-bottom-style: solid;\n    border-width: 0.15em;\n    border-color: #f0f0f0;\n    margin: 0 0 18px;\n    height: 20px;\n    width: 16px;\n}\n\n.styles-module_listContainer__1uShT{\n    display: flex;\n}\n\n.styles-module_listLine__2haq5{\n    height: 20px;\n    width: 16px;\n    margin-top: 14px;\n    border-bottom-style: solid;\n    border-width: 0.15em;\n    border-color: #f0f0f0;\n}\n\n.styles-module_warning__2D74f{\n    display: flex;\n    padding-left: 5px;\n}\n.styles-module_warning__2D74f span{\n    display: flex;\n    align-items: center;\n    color: rgba(255,0,0, 0.8);\n    font-style: italic;\n}',styles={container:"styles-module_container__1oeWd",editorContainer:"styles-module_editorContainer__3rgkN",overlay:"styles-module_overlay__3xf0A",JsonViewOutput:"styles-module_JsonViewOutput__dQNvr",insertBanner:"styles-module_insertBanner__3grHO",bannerSpan:"styles-module_bannerSpan__iZqd_",jsonListOutput:"styles-module_jsonListOutput__14Vp_",nodeEmpty:"styles-module_nodeEmpty__okGWw",indent:"styles-module_indent__3K2Y7",dataContainer:"styles-module_dataContainer__3Hb85",dataNode:"styles-module_dataNode__3NW26",clickNode:"styles-module_clickNode__D3mL4",needLeaf:"styles-module_needLeaf__3Pd0A",rightContainer:"styles-module_rightContainer__2_EGZ",rightButton:"styles-module_rightButton__2WBAU",emptyObject:"styles-module_emptyObject__1ivRB",keyData:"styles-module_keyData__xvrky",keySpace:"styles-module_keySpace__V048A",arrayType:"styles-module_arrayType__2cPVO",valueData:"styles-module_valueData__2LUzt",arrow:"styles-module_arrow__2qoOo",arrowDown:"styles-module_arrowDown__1CJlj",arrowRight:"styles-module_arrowRight__20txf",modalContainer:"styles-module_modalContainer__3p6-8",modalContentContainer:"styles-module_modalContentContainer__1l9jX",modalLabel:"styles-module_modalLabel__2kqOh",modalSelectLabel:"styles-module_modalSelectLabel__2L-as",modalSelectBtnContainer:"styles-module_modalSelectBtnContainer__GFYsQ",modalSelectBtn:"styles-module_modalSelectBtn__1GzsM",modalInput:"styles-module_modalInput__2Ql0f",primitiveInput:"styles-module_primitiveInput__3DL4B",modalBooleanInput:"styles-module_modalBooleanInput__3ON3x",modalNoLabel:"styles-module_modalNoLabel__39M1c",modalBtnContainer:"styles-module_modalBtnContainer__1t2Ba",modalModifyBtnContainer:"styles-module_modalModifyBtnContainer__OMIy7",modalButton:"styles-module_modalButton__QEgLU",delButton:"styles-module_delButton__2GkYR",addButton:"styles-module_addButton__3yeXA",removeIcon:"styles-module_removeIcon__YQbZ7",addIcon:"styles-module_addIcon__1Hx75",arrayIndex:"styles-module_arrayIndex__PSRJg",arrayIndexInput:"styles-module_arrayIndexInput__2avy9",addLine:"styles-module_addLine__1qO0a",nodeLine:"styles-module_nodeLine__30DII",nodePlusLineContainer:"styles-module_nodePlusLineContainer__3cpeO",nodePlusLine:"styles-module_nodePlusLine__r_i9a",listContainer:"styles-module_listContainer__1uShT",listLine:"styles-module_listLine__2haq5",warning:"styles-module_warning__2D74f"};function DeepCopy(e){if(void 0!==e)return null===e?null:JSON.parse(JSON.stringify(e))}styleInject(css_248z);var hasOwn=Object.prototype.hasOwnProperty,toString=Object.prototype.toString,foreach=function(e,t,a){if("[object Function]"!==toString.call(t))throw new TypeError("iterator must be a function");var l=e.length;if(l===+l)for(var n=0;n<l;n++)t.call(a,e[n],n,e);else for(var o in e)hasOwn.call(e,o)&&t.call(a,e[o],o,e)},each=foreach,jsonPointer=api;function api(e,t,a){if(3===arguments.length)return api.set(e,t,a);if(2===arguments.length)return api.get(e,t);var l,n=api.bind(api,e);for(l in api)api.hasOwnProperty(l)&&(n[l]=api[l].bind(n,e));return n}function TypeOfValue(e){return void 0===e?"undefined":null===e?"null":"boolean"==typeof e?"boolean":"number"==typeof e?"number":"string"==typeof e?"string":e instanceof Array?"array":"object"}api.get=function(e,t){for(var a=Array.isArray(t)?t:api.parse(t),l=0;l<a.length;++l){var n=a[l];if(!("object"==typeof e&&n in e))throw new Error("Invalid reference token: "+n);e=e[n]}return e},api.set=function(e,t,a){var l=Array.isArray(t)?t:api.parse(t),n=l[0];if(0===l.length)throw Error("Can not set the root object");for(var o=0;o<l.length-1;++o){var r=l[o];"__proto__"!==r&&"constructor"!==r&&"prototype"!==r&&("-"===r&&Array.isArray(e)&&(r=e.length),n=l[o+1],r in e||(n.match(/^(\d+|-)$/)?e[r]=[]:e[r]={}),e=e[r])}return e[n="-"===n&&Array.isArray(e)?e.length:n]=a,this},api.remove=function(e,t){var a=Array.isArray(t)?t:api.parse(t),l=a[a.length-1];if(void 0===l)throw new Error('Invalid JSON pointer for remove: "'+t+'"');e=api.get(e,a.slice(0,-1));if(Array.isArray(e)){a=+l;if(""===l&&isNaN(a))throw new Error('Invalid array index: "'+l+'"');Array.prototype.splice.call(e,a,1)}else delete e[l]},api.dict=function(e,t){var a={};return api.walk(e,function(e,t){a[t]=e},t),a},api.walk=function(e,l,n){var o=[];n=n||function(e){e=Object.prototype.toString.call(e);return"[object Object]"===e||"[object Array]"===e},function a(e){each(e,function(e,t){o.push(String(t)),n(e)?a(e):l(e,api.compile(o)),o.pop()})}(e)},api.has=function(e,t){try{api.get(e,t)}catch(e){return!1}return!0},api.escape=function(e){return e.toString().replace(/~/g,"~0").replace(/\//g,"~1")},api.unescape=function(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")},api.parse=function(e){if(""===e)return[];if("/"!==e.charAt(0))throw new Error("Invalid JSON pointer: "+e);return e.substring(1).split(/\//).map(api.unescape)},api.compile=function(e){return 0===e.length?"":"/"+e.map(api.escape).join("/")};var UserContext=React.createContext({themes:{color:"#9bb7d4",hoverColor:"#f4f7fa"},banner:{hoverColor:"#6690bd",fontColor:"white",font:"20px/30px Arial, Helvetica, sans-serif"},key:{color:"black",font:"16px/26px Arial, Helvetica, sans-serif"},values:{font:"14px/26px Arial, Helvetica, sans-serif",null:"#E9897E",boolean:"#8e4cad",number:"#25539a",string:"#797980"},buttons:{add:"#9bb7d4",delete:"#a0a2a4",update:"#9BB7D4",cancel:"#d49bb7"}}),typeOptions=["string","number","boolean","null","object","array"];function ModalEditor(e){var t=e.editObject,a=e.changeNode,l=e.deleteNode,e=t||{},n=e.path,o=e.field,r=e.value,t=e.isInArray,s={},d=TypeOfValue(r),e=React.useContext(UserContext);return void 0===o?jsonPointer.set(s,"/undefined/",""):"array"===d?jsonPointer.set(s,"/"+o+"/"+r.length,""):"object"===d?jsonPointer.set(s,"/"+o,{}):jsonPointer.set(s,"/"+o,r),React__default.default.createElement("div",{key:"ModalEditor",className:styles.modalContainer},React__default.default.createElement("form",{onSubmit:function(e){var t;e.preventDefault(),"array"===d?a("/"===n?"/"+o:n+"/"+o+"/"+r.length,DeepCopy(jsonPointer.get(s,"/"+o+"/"+r.length))):"object"===d?Object.keys(jsonPointer.get(s,"/"+o)).forEach(function(e){a(n+"/"+o+"/"+e,DeepCopy(jsonPointer.get(s,"/"+o+"/"+e)))}):(e=TypeOfValue(t=jsonPointer.get(s,"/"+o)),void 0===o?a("/",t):a(n+"/"+o,"array"===e||"object"===e?DeepCopy(t):t))}},"array"===d?React__default.default.createElement(ModalObjectContainer,{modalObj:s,path:"/"+o,field:r.length,valueType:"string",isInArray:!0,isRoot:!0}):"object"===d||void 0===o?React__default.default.createElement(ObjectNodeEditor,{modalObj:s,ObjKey:o,path:""}):React__default.default.createElement(ModalObjectContainer,{modalObj:s,path:"",field:o,valueType:d,isInArray:t,isRoot:!0}),React__default.default.createElement("div",{className:styles.modalBtnContainer},"object"===d?React__default.default.createElement("div",null):React__default.default.createElement("button",{type:"button",className:styles.modalButton,style:{backgroundColor:e.buttons.delete},onClick:function(){l(n+"/"+o)}},React__default.default.createElement("span",{style:{font:e.values.font,lineHeight:"normal"}},"Delete")," "),React__default.default.createElement("div",{className:styles.modalModifyBtnContainer},React__default.default.createElement("button",{type:"button",className:styles.modalButton,style:{backgroundColor:e.buttons.cancel},onClick:function(){l(void 0)}},React__default.default.createElement("span",{style:{font:e.values.font,lineHeight:"normal"}},"Cancel")),React__default.default.createElement("button",{type:"submit",className:styles.modalButton,style:{backgroundColor:e.buttons.update}},React__default.default.createElement("span",{style:{font:e.values.font,lineHeight:"normal"}},"Update"))))))}function removeNode(e,t,a,l){l?(jsonPointer.get(e,t).splice(parseInt(a),1),jsonPointer.set(e,t,DeepCopy(jsonPointer.get(e,t)))):jsonPointer.remove(e,t+"/"+a)}function setDefaultValue(e){return"null"===e?null:"boolean"===e||("number"===e?0:"string"===e?"":"array"===e?[""]:{})}function ModalObjectContainer(e){var t=e.modalObj,a=e.path,l=e.field,n=e.valueType,o=e.isInArray,r=e.isRoot,s=e.saveField,d=e.rerender,u=_slicedToArray(React.useState(n),2),e=u[0],i=u[1];return React.useEffect(function(){i(n)},[n]),"undefined"===e?React__default.default.createElement("div",null,"undefined"):"null"===e?React__default.default.createElement(NullEditor,{modalObj:t,path:a,field:l,isInArray:o,isRoot:r,saveType:function(e){i(e)},saveField:s,rerender:d}):"boolean"===e?React__default.default.createElement(BooleanEditor,{modalObj:t,path:a,field:l,isInArray:o,isRoot:r,saveType:function(e){i(e)},saveField:s,rerender:d}):"number"===e?React__default.default.createElement(NumberEditor,{modalObj:t,path:a,field:l,isInArray:o,isRoot:r,saveType:function(e){i(e)},saveField:s,rerender:d}):"string"===e?React__default.default.createElement(StringEditor,{modalObj:t,path:a,field:l,isInArray:o,isRoot:r,saveType:function(e){i(e)},saveField:s,rerender:d}):"array"===e?React__default.default.createElement(ArrayEditor,{modalObj:t,path:a,field:l,isInArray:o,isRoot:r,saveType:function(e){i(e)},saveField:s,rerender:d}):React__default.default.createElement(ObjectEditor,{modalObj:t,path:a,field:l,isInArray:o,isRoot:r,saveType:function(e){i(e)},saveField:s,rerender:d})}function NullEditor(e){var t=e.modalObj,a=e.path,l=e.field,n=e.isInArray,o=e.isRoot,r=e.saveType,s=e.saveField,d=e.rerender,e=_slicedToArray(React.useState(l),2),u=e[0],i=e[1];return React.useEffect(function(){jsonPointer.set(t,a+"/"+u,null)},[]),React__default.default.createElement("div",{className:styles.modalContentContainer},React__default.default.createElement("div",null,n?React__default.default.createElement("div",{className:styles.arrayIndex},React__default.default.createElement("div",{className:styles.arrayIndexInput},u)):React__default.default.createElement("div",null,React__default.default.createElement("label",{className:styles.modalLabel},"Key"),React__default.default.createElement("input",{value:u,className:styles.modalInput,disabled:o,onChange:function(e){i(e.target.value)},onBlur:function(e){e=e.target.value,s(e,null,l)&&i(l)}}))),React__default.default.createElement("div",{className:styles.modalNoLabel},React__default.default.createElement("span",null," : ")),React__default.default.createElement("div",null,React__default.default.createElement("label",{className:styles.modalLabel},"Type"),React__default.default.createElement("select",{className:styles.modalInput,name:"type",defaultValue:"null",onChange:function(e){e=e.target.value,jsonPointer.set(t,a+"/"+l,setDefaultValue(e)),r(e)}},typeOptions.map(function(e){return React__default.default.createElement("option",{key:e,value:e},e)}))),React__default.default.createElement("div",{className:styles.modalNoLabel},!o&&void 0!==d&&React__default.default.createElement("div",{className:styles.delButton},React__default.default.createElement("i",{className:styles.removeIcon,onClick:function(){removeNode(t,a,u,n),d()}}))))}function BooleanEditor(e){var t=e.modalObj,a=e.path,l=e.field,n=e.isInArray,o=e.isRoot,r=e.saveType,s=e.saveField,d=e.rerender,e=_slicedToArray(React.useState(l),2),u=e[0],i=e[1],e=_slicedToArray(React.useState(!1!==jsonPointer.get(t,a+"/"+l)),2),c=e[0],f=e[1];return React__default.default.createElement("div",{className:styles.modalContentContainer},React__default.default.createElement("div",null,n?React__default.default.createElement("div",{className:styles.arrayIndex},React__default.default.createElement("div",{className:styles.arrayIndexInput},u)):React__default.default.createElement("div",null,React__default.default.createElement("label",{className:styles.modalLabel},"Key"),React__default.default.createElement("input",{value:u,className:styles.modalInput,disabled:o,onChange:function(e){i(e.target.value)},onBlur:function(e){e=e.target.value,s(e,c,l)&&i(l)}}))),React__default.default.createElement("div",{className:styles.modalNoLabel},React__default.default.createElement("span",null," : ")),React__default.default.createElement("div",null,React__default.default.createElement("label",{className:styles.modalLabel},"Type"),React__default.default.createElement("select",{className:styles.modalInput,name:"type",defaultValue:"boolean",onChange:function(e){e=e.target.value,jsonPointer.set(t,a+"/"+l,setDefaultValue(e)),r(e)}},typeOptions.map(function(e){return React__default.default.createElement("option",{key:e,value:e},e)}))),React__default.default.createElement("div",null,React__default.default.createElement("label",{className:styles.modalLabel},"Value"),React__default.default.createElement("select",{className:styles.modalBooleanInput,value:c,onChange:function(e){e="true"===e.target.value,f(e),jsonPointer.set(t,a+"/"+u,e)}},React__default.default.createElement("option",{value:!0},"true"),React__default.default.createElement("option",{value:!1},"false"))),React__default.default.createElement("div",{className:styles.modalNoLabel},!o&&void 0!==d&&React__default.default.createElement("div",{className:styles.delButton},React__default.default.createElement("i",{className:styles.removeIcon,onClick:function(){removeNode(t,a,u,n),d()}}))))}function NumberEditor(e){var a=e.modalObj,l=e.path,t=e.field,n=e.isInArray,o=e.isRoot,r=e.saveType,s=e.saveField,d=e.rerender,u=_slicedToArray(React.useState(t),2),i=u[0],c=u[1],e=_slicedToArray(React.useState(jsonPointer.get(a,l+"/"+t)),2),f=e[0],_=e[1],u=_slicedToArray(React.useState(!0),2),e=u[0],m=u[1];return React__default.default.createElement("div",null,React__default.default.createElement("div",{className:styles.modalContentContainer},React__default.default.createElement("div",null,n?React__default.default.createElement("div",{className:styles.arrayIndex},React__default.default.createElement("div",{className:styles.arrayIndexInput},i)):React__default.default.createElement("div",null,React__default.default.createElement("label",{className:styles.modalLabel},"Key"),React__default.default.createElement("input",{value:i,className:styles.modalInput,disabled:o,onChange:function(e){c(e.target.value)},onBlur:function(e){e=e.target.value,s(e,f,t)&&c(t)}}))),React__default.default.createElement("div",{className:styles.modalNoLabel},React__default.default.createElement("span",null," : ")),React__default.default.createElement("div",null,React__default.default.createElement("label",{className:styles.modalLabel},"Type"),React__default.default.createElement("select",{className:styles.modalInput,name:"type",defaultValue:"number",onChange:function(e){e=e.target.value,jsonPointer.set(a,l+"/"+t,setDefaultValue(e)),r(e)}},typeOptions.map(function(e){return React__default.default.createElement("option",{key:e,value:e},e)}))),React__default.default.createElement("div",null,React__default.default.createElement("label",{className:styles.modalLabel},"Value"),React__default.default.createElement("input",{value:f,className:styles.modalInput,onChange:function(e){var t;t=e.target.value,e=Number(t),""===t||Number.isNaN(e)?(jsonPointer.set(a,l+"/"+i,0),m(!1)):(jsonPointer.set(a,l+"/"+i,e),m(!0)),_(t)},onBlur:function(e){var t;t=e.target.value,e=Number(t),""!==t&&!Number.isNaN(e)||_(0)}})),React__default.default.createElement("div",{className:styles.modalNoLabel},!o&&void 0!==d&&React__default.default.createElement("div",{className:styles.delButton},React__default.default.createElement("i",{className:styles.removeIcon,onClick:function(){removeNode(a,l,i,n),d()}})))),!e&&React__default.default.createElement("div",null,"Not a num, will change/save to 0"))}function StringEditor(e){var t=e.modalObj,a=e.path,l=e.field,n=e.isInArray,o=e.isRoot,r=e.saveType,s=e.saveField,d=e.rerender,e=_slicedToArray(React.useState(l),2),u=e[0],i=e[1],e=_slicedToArray(React.useState(jsonPointer.get(t,a+"/"+l)),2),c=e[0],f=e[1];return React__default.default.createElement("div",{className:styles.modalContentContainer},React__default.default.createElement("div",null,n?React__default.default.createElement("div",{className:styles.arrayIndex},React__default.default.createElement("div",{className:styles.arrayIndexInput},u)):React__default.default.createElement("div",null,React__default.default.createElement("label",{className:styles.modalLabel},"Key"),React__default.default.createElement("input",{value:u,className:styles.modalInput,disabled:o,onChange:function(e){i(e.target.value)},onBlur:function(e){e=e.target.value,s(e,c,l)&&i(l)}}))),React__default.default.createElement("div",{className:styles.modalNoLabel},React__default.default.createElement("span",null," : ")),React__default.default.createElement("div",null,React__default.default.createElement("label",{className:styles.modalLabel},"Type"),React__default.default.createElement("select",{className:styles.modalInput,name:"type",defaultValue:"string",onChange:function(e){e=e.target.value,jsonPointer.set(t,a+"/"+u,setDefaultValue(e)),r(e)}},typeOptions.map(function(e){return React__default.default.createElement("option",{key:e,value:e},e)}))),React__default.default.createElement("div",null,React__default.default.createElement("label",{className:styles.modalLabel},"Value"),React__default.default.createElement("input",{value:c,className:styles.modalInput,onChange:function(e){e=e.target.value,f(e),jsonPointer.set(t,a+"/"+u,e)}})),React__default.default.createElement("div",{className:styles.modalNoLabel},!o&&void 0!==d&&React__default.default.createElement("div",{className:styles.delButton},React__default.default.createElement("i",{className:styles.removeIcon,onClick:function(){removeNode(t,a,u,n),d()}}))))}function ArrayEditor(e){var a=e.modalObj,l=e.path,n=e.field,t=e.isInArray,o=e.isRoot,r=e.saveType,s=e.saveField,d=e.rerender,e=_slicedToArray(React.useState(!1),2),u=e[0],i=e[1],e=_slicedToArray(React.useState(n),2),c=e[0],f=e[1];return React__default.default.createElement("div",null,React__default.default.createElement("div",{className:styles.modalContentContainer},React__default.default.createElement("div",null,t?React__default.default.createElement("div",{className:styles.arrayIndex},React__default.default.createElement("div",{className:styles.arrayIndexInput},c)):React__default.default.createElement("div",null,React__default.default.createElement("label",{className:styles.modalLabel},"Key"),React__default.default.createElement("input",{value:c,className:styles.modalInput,disabled:o,onChange:function(e){f(e.target.value)},onBlur:function(e){s(e.target.value,jsonPointer.get(a,l+"/"+n),n)&&f(n)}}))),React__default.default.createElement("div",{className:styles.modalNoLabel},React__default.default.createElement("span",null," : ")),React__default.default.createElement("div",null,React__default.default.createElement("label",{className:styles.modalLabel},"Type"),React__default.default.createElement("select",{className:styles.modalInput,name:"type",defaultValue:"array",onChange:function(e){e=e.target.value,jsonPointer.set(a,l+"/"+n,setDefaultValue(e)),r(e)}},typeOptions.map(function(e){return React__default.default.createElement("option",{key:e,value:e},e)}))),React__default.default.createElement("div",{className:styles.modalNoLabel},!(""===l||o||void 0===d)&&React__default.default.createElement("div",{className:styles.delButton},React__default.default.createElement("i",{className:styles.removeIcon,onClick:function(){removeNode(a,l,c,t),d()}})))),React__default.default.createElement("div",{className:styles.addLine},React__default.default.createElement("div",{className:styles.nodeLine},React__default.default.createElement("p",null)),React__default.default.createElement("div",null,Object.entries(jsonPointer.get(a,l+"/"+n)).map(function(e){var t=_slicedToArray(e,2),e=t[0],t=t[1];return React__default.default.createElement("div",{className:styles.listContainer,key:l+"/"+n+"/"+e+"/"+u},React__default.default.createElement("div",{className:styles.listLine}),React__default.default.createElement(ModalObjectContainer,{modalObj:a,path:l+"/"+n,field:e,valueType:TypeOfValue(t),isInArray:!0,render:u,rerender:function(){i(!u)}}))}),React__default.default.createElement("div",{className:styles.nodePlusLineContainer},React__default.default.createElement("div",{className:styles.nodePlusLine}),React__default.default.createElement("div",{className:styles.addButton},React__default.default.createElement("i",{className:styles.addIcon,onClick:function(){jsonPointer.set(a,l+"/"+c+"/"+jsonPointer.get(a,l+"/"+c).length,""),i(!u)}}))))))}function ObjectNodeEditor(e){var l=e.modalObj,n=e.ObjKey,o=e.path,t=_slicedToArray(React.useState(""),2),e=t[0],r=t[1];return jsonPointer.has(l,o+"/"+n+"/"+e)||jsonPointer.set(l,o+"/"+n+"/"+e,""),React__default.default.createElement(ModalObjectContainer,{modalObj:l,path:o+"/"+n,field:e,valueType:"string",isInArray:!1,isRoot:!1,saveField:function(e,t,a){if(jsonPointer.has(l,o+"/"+n+"/"+e))return!0;t instanceof Object?jsonPointer.set(l,o+"/"+n+"/"+e,DeepCopy(t)):jsonPointer.set(l,o+"/"+n+"/"+e,t),jsonPointer.remove(l,o+"/"+n+"/"+a),r(e)}})}function ObjectEditor(e){var l=e.modalObj,n=e.path,a=e.field,t=e.isInArray,o=e.isRoot,r=e.saveType,s=e.rerender,d=_slicedToArray(React.useState(!1),2),u=d[0],i=d[1],e=_slicedToArray(React.useState(a),2),c=e[0],f=e[1],d=_slicedToArray(React.useState(!1),2),e=d[0],_=d[1];function m(e,t,a){if(jsonPointer.has(l,n+"/"+c+"/"+e))return!0;t instanceof Object?jsonPointer.set(l,n+"/"+c+"/"+e,DeepCopy(t)):jsonPointer.set(l,n+"/"+c+"/"+e,t),jsonPointer.remove(l,n+"/"+c+"/"+a),i(!u)}return React.useEffect(function(){jsonPointer.set(l,n+"/"+c+"/",""),i(!u)},[]),React.useEffect(function(){_(!1)},[u]),React__default.default.createElement("div",null,React__default.default.createElement("div",{className:styles.modalContentContainer},React__default.default.createElement("div",null,t?React__default.default.createElement("div",{className:styles.arrayIndex},React__default.default.createElement("div",{className:styles.arrayIndexInput},c)):React__default.default.createElement("div",null,React__default.default.createElement("label",{className:styles.modalLabel},"Key"),React__default.default.createElement("input",{value:c,className:styles.modalInput,disabled:o,onChange:function(e){e=e.target.value,jsonPointer.has(l,n+"/"+e)||(jsonPointer.set(l,n+"/"+e,DeepCopy(jsonPointer.get(l,n+"/"+c))),jsonPointer.remove(l,n+"/"+c),f(e))},onBlur:function(e){e=e.target.value,c!==e&&f(c)}}))),React__default.default.createElement("div",{className:styles.modalNoLabel},React__default.default.createElement("span",null," : ")),React__default.default.createElement("div",null,React__default.default.createElement("label",{className:styles.modalLabel},"Type"),React__default.default.createElement("select",{className:styles.modalInput,name:"type",defaultValue:"object",onChange:function(e){e=e.target.value,jsonPointer.set(l,n+"/"+c,setDefaultValue(e)),r(e)}},typeOptions.map(function(e){return React__default.default.createElement("option",{key:e,value:e},e)}))),React__default.default.createElement("div",{className:styles.modalNoLabel},!(""===n||o||void 0===s)&&React__default.default.createElement("div",{className:styles.delButton},React__default.default.createElement("i",{className:styles.removeIcon,onClick:function(){removeNode(l,n,c,t),s()}})))),React__default.default.createElement("div",{className:styles.addLine},React__default.default.createElement("div",{className:styles.nodeLine},React__default.default.createElement("p",null)),React__default.default.createElement("div",null,React__default.default.createElement("div",null,Object.entries(jsonPointer.get(l,n+"/"+c)).map(function(e){var t=_slicedToArray(e,2),e=t[0],t=t[1];return React__default.default.createElement("div",{className:styles.listContainer,key:n+"/"+a+"/"+e+"/"+u},React__default.default.createElement("div",{className:styles.listLine}),React__default.default.createElement(ModalObjectContainer,{modalObj:l,field:e,value:t,valueType:TypeOfValue(t),isInArray:!1,path:n+"/"+c,saveField:m,rerender:function(){i(!u)}}))})),React__default.default.createElement("div",{className:styles.nodePlusLineContainer},React__default.default.createElement("div",{className:styles.nodePlusLine}),React__default.default.createElement("div",{className:styles.addButton},React__default.default.createElement("i",{className:styles.addIcon,onClick:function(){_(!1),jsonPointer.has(l,n+"/"+c+"/")?_(!0):(jsonPointer.set(l,n+"/"+c+"/",""),i(!u))}})),e&&React__default.default.createElement("div",{className:styles.warning},React__default.default.createElement("span",null,"please insert a key value"))))))}function TypeToString(e){e=e.input;return React__default.default.createElement("span",null,TypeOfValue(e))}function ValueToString(e){e=e.input,e=null==e?"null":"boolean"==typeof e?e?"true":"false":e;return React__default.default.createElement("span",null,e)}function JsonView(e){var a=e.input,l=e.jsonPath,o=e.jsonListOutput,n=e.deleteNode,r=e.setPrimitive,s=e.createModal,t=e.indent,d=void 0===t?1:t,u=e.needLeaf,i=void 0===u||u,c=e.expandToGeneration,f=void 0===c?void 0:c,t=TypeOfValue(a),u=React.useContext(UserContext),e=_slicedToArray(React.useState(!1),2),c=e[0],_=e[1];function m(e,t,a,l,n){s(e,t,a,l,n.current.offsetTop+n.current.clientHeight-o.current.scrollTop)}return void 0===a?React__default.default.createElement("div",{className:styles.nodeEmpty,style:{color:u.values.string,font:u.values.font}},"It doesn't have any data"):i&&"object"!==t&&"array"!==t?React__default.default.createElement("div",{key:d,className:styles.dataContainer},React__default.default.createElement("div",{className:styles.dataNode,onClick:function(){r(a,o.current.offsetTop+32)}},React__default.default.createElement("div",{className:styles.needLeaf,style:{backgroundColor:c?u.themes.hoverColor:""},onMouseOver:function(){_(!0)},onMouseLeave:function(){_(!1)}},React__default.default.createElement("div",null,React__default.default.createElement(JsonView,{jsonPath:l,input:a,indent:d,needLeaf:!1,expandToGeneration:f})),c&&React__default.default.createElement("div",{className:styles.rightContainer,style:{backgroundImage:"linear-gradient(to right, transparent 0, "+u.themes.hoverColor+" 0.5em)"}},React__default.default.createElement("div",{style:{font:u.values.font,fontStyle:"italic",color:u.themes.color}},React__default.default.createElement(TypeToString,{input:a})),React__default.default.createElement("div",{className:styles.rightButton},React__default.default.createElement("button",{style:{backgroundColor:u.buttons.delete},type:"button",onClick:function(e){e.stopPropagation(),e.preventDefault(),n(l)}},React__default.default.createElement("span",{style:{font:u.values.font,lineHeight:"normal"}},"Delete"))))))):"null"===t?React__default.default.createElement("div",{className:styles.valueData,style:{color:u.values.null,font:u.values.font}},React__default.default.createElement(ValueToString,{input:a})):"boolean"===t?React__default.default.createElement("div",{className:styles.valueData,style:{color:u.values.boolean,font:u.values.font}},React__default.default.createElement(ValueToString,{input:a})):"number"===t?React__default.default.createElement("div",{className:styles.valueData,style:{color:u.values.number,font:u.values.font}},React__default.default.createElement(ValueToString,{input:""===a?'""':a})):"string"===t?React__default.default.createElement("div",{className:styles.valueData,style:{color:u.values.string,font:u.values.font}},React__default.default.createElement(ValueToString,{input:""===a?'""':a})):0===Object.keys(a).length?React__default.default.createElement("div",{className:styles.dataContainer},React__default.default.createElement("div",{className:styles.dataNode},React__default.default.createElement("div",{className:styles.emptyObject,style:{backgroundColor:c?u.themes.hoverColor:""},onMouseOver:function(){_(!0)},onMouseLeave:function(){_(!1)}},React__default.default.createElement("div",{style:{paddingLeft:d+"em"}},React__default.default.createElement("div",{className:styles.valueData,style:{color:u.values.string,font:u.values.font}},React__default.default.createElement("span",null,JSON.stringify(a)))),c&&React__default.default.createElement("div",{className:styles.rightContainer,style:{backgroundImage:"linear-gradient(to right, transparent 0, "+u.themes.hoverColor+" 0.5em)"}},React__default.default.createElement("div",{style:{font:u.values.font,fontStyle:"italic",color:u.themes.color}},React__default.default.createElement(TypeToString,{input:a})),React__default.default.createElement("div",{className:styles.rightButton},React__default.default.createElement("button",{style:{backgroundColor:u.buttons.delete},type:"button",onClick:function(e){e.stopPropagation(),e.preventDefault(),n(l)}},React__default.default.createElement("span",{style:{font:u.values.font,lineHeight:"normal"}},"Delete"))))))):Object.entries(a).map(function(e){var t=_slicedToArray(e,2),e=t[0],t=t[1];return React__default.default.createElement(ViewNode,{key:l+"/"+e,jsonPath:l,field:e,value:t,indent:d,isInArray:a instanceof Array,deleteNode:n,setPrimitive:r,createModal:s,createEditModal:m,jsonListOutput:o,expandToGeneration:f})})}function ViewNode(e){var t=e.jsonPath,a=e.field,l=e.value,n=e.jsonListOutput,o=e.indent,r=e.isInArray,s=e.deleteNode,d=e.setPrimitive,u=e.createModal,i=e.createEditModal,c=e.expandToGeneration,f=_slicedToArray(React.useState(void 0===c||(t.match(/\//g)||[]).length<=c),2),_=f[0],m=f[1],e=_slicedToArray(React.useState(!1),2),f=e[0],y=e[1],p=l instanceof Object,v=React.useRef(),e=React.useContext(UserContext);return React__default.default.createElement("div",{className:styles.dataContainer},React__default.default.createElement("div",{className:styles.dataNode,ref:v},React__default.default.createElement("div",{className:styles.clickNode,style:{backgroundColor:f?e.themes.hoverColor:""},onMouseOver:function(){y(!0)},onMouseLeave:function(){y(!1)},onClick:function(e){e.stopPropagation(),e.preventDefault(),p?m(!_):i(t,a,l,r,v)}},React__default.default.createElement("div",{className:styles.keyData,style:{paddingLeft:o+"em"}},React__default.default.createElement("div",{className:styles.arrow,style:p?{}:{visibility:"hidden"}},React__default.default.createElement("i",{className:_?styles.arrowDown:styles.arrowRight})),React__default.default.createElement("div",{style:{display:"flex",color:e.key.color,font:e.key.font}},React__default.default.createElement("div",null,r&&React__default.default.createElement("div",{className:styles.arrayType}),React__default.default.createElement("span",null,""===a?'""':a)),React__default.default.createElement("div",{className:styles.keySpace},React__default.default.createElement("span",null,":")))),f&&React__default.default.createElement("div",{className:styles.rightContainer,style:{backgroundImage:"linear-gradient(to right, transparent 0, "+e.themes.hoverColor+" 0.5em)"}},React__default.default.createElement("div",{style:{font:e.values.font,fontStyle:"italic",color:e.themes.color}},React__default.default.createElement(TypeToString,{input:l})),React__default.default.createElement("div",{className:styles.rightButton},React__default.default.createElement("button",{style:{backgroundColor:e.buttons.add},type:"button",onClick:function(e){e.stopPropagation(),e.preventDefault(),i(t,a,l,r,v)}},React__default.default.createElement("span",{style:{font:e.values.font,lineHeight:"normal"}},p?"Add":"Edit"))),React__default.default.createElement("div",{className:styles.rightButton},React__default.default.createElement("button",{style:{backgroundColor:e.buttons.delete},type:"button",onClick:function(e){e.stopPropagation(),e.preventDefault(),s(t+"/"+a)}},React__default.default.createElement("span",{style:{font:e.values.font,lineHeight:"normal"}},"Delete")))),!p&&React__default.default.createElement(JsonView,{input:l,needLeaf:!1,expandToGeneration:c}))),p&&_&&React__default.default.createElement(JsonView,{jsonPath:t+"/"+a,input:l,indent:o+1,deleteNode:s,setPrimitive:d,needLeaf:!1,jsonListOutput:n,createModal:u,expandToGeneration:c}))}function ModalPrimitive(e){var t=e.primitiveValue,a=e.savePrimitive,t=_slicedToArray(React.useState(t),2),l=t[0],n=t[1],t=React.useContext(UserContext);return React__default.default.createElement("div",{key:"ModalEditor",className:styles.modalContainer},React__default.default.createElement("form",{onSubmit:function(e){e.preventDefault(),a(null===l?"null":l)}},React__default.default.createElement("div",null,React__default.default.createElement("label",{className:styles.modalLabel,style:{font:t.key.font}},"Value"),React__default.default.createElement("input",{value:null===l?"null":l,className:styles.primitiveInput,onChange:function(e){n(e.target.value)}})),React__default.default.createElement("div",{style:{float:"right"}},React__default.default.createElement("div",{className:styles.modalBtnContainer},React__default.default.createElement("div",{className:styles.modalModifyBtnContainer},React__default.default.createElement("button",{type:"button",className:styles.modalButton,style:{backgroundColor:t.buttons.cancel},onClick:function(){a()}}," ",React__default.default.createElement("span",{style:{font:t.values.font,lineHeight:"normal"}},"Cancel")),React__default.default.createElement("button",{type:"submit",className:styles.modalButton,style:{backgroundColor:t.buttons.update}},React__default.default.createElement("span",{style:{font:t.values.font,lineHeight:"normal"}},"Update")))))))}function Editor(e){var t=e.input,a=e.jsonBoxRef,l=e.onChange,n=e.hideInsertObjectButton,o=e.expandToGeneration,r={path:void 0,field:void 0,value:void 0,isInArray:void 0},s=React.useRef(),d=_slicedToArray(React.useState(),2),u=d[0],i=d[1],c=_slicedToArray(React.useState(!1),2),f=c[0],_=c[1],m=_slicedToArray(React.useState(r),2),y=m[0],p=m[1],v=_slicedToArray(React.useState(0),2),e=v[0],b=v[1],d=_slicedToArray(React.useState(),2),c=d[0],R=d[1],r=_slicedToArray(React.useState(!1),2),m=r[0],g=r[1],v=React.useContext(UserContext),d=_slicedToArray(React.useState(!1),2),r=d[0],E=d[1],h=DeepCopy(u);function N(e,t){i(t?DeepCopy(e):e),l(JSON.stringify(e,null," "))}function x(e){""===e?N(h=void 0):void 0!==e&&(jsonPointer.remove(h,e),N(h,h instanceof Object)),f&&_(!1)}function C(e,t){b(t),R(e)}function j(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:void 0,a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:void 0,l=3<arguments.length&&void 0!==arguments[3]?arguments[3]:void 0,n=4<arguments.length?arguments[4]:void 0;void 0===t&&u instanceof Array?p({path:"/",field:Array.from(u).length,value:u,isInArray:l}):p({path:e,field:t,value:a,isInArray:l}),b(n),_(!0)}return React.useEffect(function(){i(function(e){try{return JSON.parse(e)}catch(e){return}}(t)),_(!1),R(void 0)},[t]),React__default.default.createElement("div",{className:styles.editorContainer},f&&React__default.default.createElement("div",null,React__default.default.createElement("div",{className:styles.overlay,style:{width:a.current.offsetWidth,height:a.current.offsetHeight}}),React__default.default.createElement("div",{style:{top:e,position:"absolute"}},React__default.default.createElement(ModalEditor,{editObject:y,changeNode:function(e,t){var a;void 0===u||""===e?N(h=t,h instanceof Object):("/"===e?u instanceof Array?(a=jsonPointer.get(u,"").length,Object.entries(t).map(function(e){var t=_slicedToArray(e,2),e=t[0],t=t[1];jsonPointer.set(h,"/"+a+"/"+e,t)})):(u instanceof Object||(h={}),Object.entries(t).map(function(e){var t=_slicedToArray(e,2),e=t[0],t=t[1];jsonPointer.set(h,"/"+e,t)})):jsonPointer.set(h,e,t),N(h,!0)),_(!1)},deleteNode:x}))),void 0!==c&&React__default.default.createElement("div",null,React__default.default.createElement("div",{className:styles.overlay,style:{width:a.current.offsetWidth,height:a.current.offsetHeight}}),React__default.default.createElement("div",{style:{top:e,position:"absolute"}},React__default.default.createElement(ModalPrimitive,{primitiveValue:c,savePrimitive:function(e){void 0!==e&&N('"'===e.charAt(0)&&e.endsWith('"')?e.slice(1,-1):"null"===e?null:"true"===e||"false"===e?"true"===e:Number.isNaN(Number(e))?e:Number(e)),R(void 0)}}))),void 0===u&&m&&React__default.default.createElement("div",{className:styles.modalContainer,style:{minWidth:"300px"}},React__default.default.createElement("div",null,React__default.default.createElement("label",{className:styles.modalSelectLabel,style:{font:v.key.font}},"Please select type of new data")),React__default.default.createElement("div",{className:styles.modalSelectBtnContainer},React__default.default.createElement("button",{type:"button",className:styles.modalSelectBtn,style:{backgroundColor:v.themes.color},onClick:function(){C(""),g(!1)}},React__default.default.createElement("span",{style:{font:v.values.font,lineHeight:"normal"}},"Text")),React__default.default.createElement("button",{type:"button",className:styles.modalSelectBtn,style:{backgroundColor:v.themes.color},onClick:function(){j(""),g(!1)}},React__default.default.createElement("span",{style:{font:v.values.font,lineHeight:"normal"}},"Object")))),React__default.default.createElement("div",{key:"jsonBody",className:styles.JsonViewOutput},!n&&React__default.default.createElement("div",{className:styles.insertBanner,style:{backgroundColor:r?v.banner.hoverColor:v.themes.color},onMouseOver:function(){E(!0)},onMouseLeave:function(){E(!1)},onClick:function(){void 0!==u?j(""):g(!0)}},React__default.default.createElement("span",{className:styles.bannerSpan,style:{color:v.banner.fontColor,font:v.banner.font}}," + Insert Object")),React__default.default.createElement("div",{className:styles.jsonListOutput,ref:s},React__default.default.createElement(JsonView,{key:"DisplayJson",input:u,jsonPath:"",jsonListOutput:s,deleteNode:x,setPrimitive:C,createModal:j,expandToGeneration:o}))))}function JsonEditor(e){var t=e.jsonObject,a=e.onChange,l=e.theme,n=e.hideInsertObjectButton,o=e.expandToGeneration,r=e.bannerStyle,s=e.keyStyle,d=e.valueStyle,u=e.buttonStyle,i=React.useRef(),e=React.useContext(UserContext);return React__default.default.createElement(UserContext.Provider,{value:{themes:void 0===l?e.themes:l,banner:void 0===r?e.banner:r,key:void 0===s?e.key:s,values:void 0===d?e.values:d,buttons:void 0===u?e.buttons:u}},React__default.default.createElement("div",{className:styles.container,ref:i},React__default.default.createElement(Editor,{input:t,jsonBoxRef:i,onChange:a,hideInsertObjectButton:n,expandToGeneration:o})))}exports.JsonEditor=JsonEditor;
